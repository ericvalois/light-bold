!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function f(a,b){var f=c(a,b)?e:d;f(a,b)}var c,d,e;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)}):(c=function(a,c){return b(c).test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className+" "+b)},e=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:c,addClass:d,removeClass:e,toggleClass:f,has:c,add:d,remove:e,toggle:f};"function"==typeof define&&define.amd?define(g):"object"==typeof exports?module.exports=g:a.classie=g}(window),function(a){"use strict";function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){this.el=a,this.options=f({},this.options),f(this.options,b),this.menus=[].slice.call(this.el.querySelectorAll(".menu__level")),this.current=0,this._init()}var b={animations:!0},c={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},d=c.animation,e=function(a,c){var e=function(a){if(b.animations){if(a.target!=this)return;this.removeEventListener(d,e)}c&&"function"==typeof c&&c.call()};b.animations?a.addEventListener(d,e):e()},h=document.getElementById("all").innerHTML;g.prototype.options={breadcrumbsCtrl:!0,initialBreadcrumb:h,backCtrl:!1,itemsDelayInterval:60,direction:"r2l",onItemClick:function(a,b){return!1}},g.prototype._init=function(){this.menusArr=[];var a=this;this.menus.forEach(function(b,c){var d={menuEl:b,menuItems:[].slice.call(b.querySelectorAll(".menu__item"))};a.menusArr.push(d),c===a.current&&classie.add(b,"menu__level--current")}),this.options.backCtrl&&(this.backCtrl=document.createElement("button"),this.backCtrl.className="menu__back menu__back--hidden flex flex-center",this.backCtrl.setAttribute("aria-label","Go back"),this.backCtrl.innerHTML='<i class="fa fa-arrow-left" aria-hidden="true"></i>',this.el.insertBefore(this.backCtrl,this.el.firstChild)),a.options.breadcrumbsCtrl&&(this.breadcrumbsCtrl=document.createElement("nav"),this.breadcrumbsCtrl.className="menu__breadcrumbs flex flex-center",this.el.insertBefore(this.breadcrumbsCtrl,this.el.firstChild),this._addBreadcrumb(0)),this._initEvents()},g.prototype._initEvents=function(){for(var a=this,b=0,c=this.menusArr.length;b<c;++b)this.menusArr[b].menuItems.forEach(function(b,c){b.querySelector("a").addEventListener("click",function(b){var d=b.target.getAttribute("data-submenu"),e=b.target.innerHTML,f=a.el.querySelector('ul[data-menu="'+d+'"]');if(d&&f)b.preventDefault(),a._openSubMenu(f,c,e);else{var g=a.el.querySelector(".menu__link--current");g&&classie.remove(a.el.querySelector(".menu__link--current"),"menu__link--current"),classie.add(b.target,"menu__link--current"),a.options.onItemClick(b,e)}})});this.options.backCtrl&&this.backCtrl.addEventListener("click",function(){a._back()})},g.prototype._openSubMenu=function(a,b,c){return!this.isAnimating&&(this.isAnimating=!0,this.menusArr[this.menus.indexOf(a)].backIdx=this.current,this.menusArr[this.menus.indexOf(a)].name=c,this._menuOut(b),void this._menuIn(a,b))},g.prototype._back=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._menuOut();var a=this.menusArr[this.menusArr[this.current].backIdx].menuEl;this._menuIn(a),this.options.breadcrumbsCtrl&&this.breadcrumbsCtrl.removeChild(this.breadcrumbsCtrl.lastElementChild)},g.prototype._menuOut=function(a){var b=this,c=this.menusArr[this.current].menuEl,d="undefined"==typeof a;this.menusArr[this.current].menuItems.forEach(function(c,e){c.style.WebkitAnimationDelay=c.style.animationDelay=d?parseInt(e*b.options.itemsDelayInterval)+"ms":parseInt(Math.abs(a-e)*b.options.itemsDelayInterval)+"ms"}),"r2l"===this.options.direction?classie.add(c,d?"animate-outToRight":"animate-outToLeft"):classie.add(c,d?"animate-outToLeft":"animate-outToRight")},g.prototype._menuIn=function(a,b){var c=this,d=this.menusArr[this.current].menuEl,f="undefined"==typeof b,g=this.menus.indexOf(a),h=this.menusArr[g].menuItems,i=h.length;h.forEach(function(h,j){h.style.WebkitAnimationDelay=h.style.animationDelay=f?parseInt(j*c.options.itemsDelayInterval)+"ms":parseInt(Math.abs(b-j)*c.options.itemsDelayInterval)+"ms";var k=b<=i/2||f?i-1:0;j===k&&e(h,function(){"r2l"===c.options.direction?(classie.remove(d,f?"animate-outToRight":"animate-outToLeft"),classie.remove(a,f?"animate-inFromLeft":"animate-inFromRight")):(classie.remove(d,f?"animate-outToLeft":"animate-outToRight"),classie.remove(a,f?"animate-inFromRight":"animate-inFromLeft")),classie.remove(d,"menu__level--current"),classie.add(a,"menu__level--current"),c.current=g,f?0===c.current&&c.options.backCtrl&&classie.add(c.backCtrl,"menu__back--hidden"):(c.options.backCtrl&&classie.remove(c.backCtrl,"menu__back--hidden"),c._addBreadcrumb(g)),c.isAnimating=!1})}),"r2l"===this.options.direction?classie.add(a,f?"animate-inFromLeft":"animate-inFromRight"):classie.add(a,f?"animate-inFromRight":"animate-inFromLeft")},g.prototype._addBreadcrumb=function(a){if(!this.options.breadcrumbsCtrl)return!1;var b=document.createElement("a");if(a)var c=this.menusArr[a].name.replace(/(<([^>]+)>)/gi,"");b.innerHTML=a?c:this.options.initialBreadcrumb,this.breadcrumbsCtrl.appendChild(b);var d=this;b.addEventListener("click",function(c){if(c.preventDefault(),!b.nextSibling||d.isAnimating)return!1;d.isAnimating=!0,d._menuOut();var e=d.menusArr[a].menuEl;d._menuIn(e);for(var f;f=b.nextSibling;)d.breadcrumbsCtrl.removeChild(f)})},a.MLMenu=g}(window),function(){var a=document.getElementById("ml-menu");new MLMenu(a,{breadcrumbsCtrl:!0,backCtrl:!1,itemsDelayInterval:50})}();